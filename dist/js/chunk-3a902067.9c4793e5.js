(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3a902067"],{"12eb":function(e,t,n){"use strict";n.r(t);var l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-card",{staticClass:"box-card"},[n("el-form",{ref:"menuForm",attrs:{model:e.formMenu}},[n("el-form-item",{attrs:{label:"菜谱名称:","label-width":"100px"}},[n("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入菜谱名称"},model:{value:e.formMenu.name,callback:function(t){e.$set(e.formMenu,"name",t)},expression:"formMenu.name"}})],1),n("el-form-item",{attrs:{label:"菜谱难度:","label-width":"100px"}},[n("el-select",{attrs:{placeholder:"请选择菜谱难度"},model:{value:e.formMenu.deg,callback:function(t){e.$set(e.formMenu,"deg",t)},expression:"formMenu.deg"}},[n("el-option",{attrs:{label:"1",value:"1"}}),n("el-option",{attrs:{label:"2",value:"2"}}),n("el-option",{attrs:{label:"3",value:"3"}}),n("el-option",{attrs:{label:"4",value:"4"}}),n("el-option",{attrs:{label:"5",value:"5"}})],1)],1),n("el-form-item",{staticStyle:{width:"200px"},attrs:{label:"预计用时:","label-width":"100px"}},[n("el-input",{model:{value:e.formMenu.tm,callback:function(t){e.$set(e.formMenu,"tm",t)},expression:"formMenu.tm"}})],1),n("el-form-item",{staticStyle:{width:"200px"},attrs:{label:"菜谱头图:","label-width":"100px"}},[n("el-input",{model:{value:e.formMenu.menuUrl,callback:function(t){e.$set(e.formMenu,"menuUrl",t)},expression:"formMenu.menuUrl"}})],1),n("el-form-item",{attrs:{label:"食材清单:","label-width":"100px"}},[n("el-table",{staticStyle:{width:"50%"},attrs:{border:"",data:e.fl1}},[n("el-table-column",{attrs:{fixed:"left",label:"食材名称","min-width":"30"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-input",{model:{value:t.row.name,callback:function(n){e.$set(t.row,"name",n)},expression:"scope.row.name"}})]}}])}),n("el-table-column",{attrs:{label:"分量","min-width":"20"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-input",{model:{value:t.row.weight,callback:function(n){e.$set(t.row,"weight",n)},expression:"scope.row.weight"}})]}}])}),n("el-table-column",{attrs:{fixed:"right",label:"操作",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(n){return n.preventDefault(),e.deleteFl(t.$index,e.formMenu.fl)}}},[e._v(" 移除 ")])]}}])})],1),n("el-button",{attrs:{type:"success",round:""},on:{click:function(t){return e.addFlListRow()}}},[e._v("添加一行")])],1),n("el-form-item",{attrs:{"label-width":"100px"}},[n("el-input",{attrs:{type:"hidden"},model:{value:e.formMenu.fl,callback:function(t){e.$set(e.formMenu,"fl",t)},expression:"formMenu.fl"}})],1),n("el-form-item",{attrs:{label:"图文步骤:","label-width":"100px"}},[n("el-table",{staticStyle:{width:"70%"},attrs:{border:"",data:e.formMenu.cookSteps}},[n("el-table-column",{attrs:{fixed:"left",label:"图片url","min-width":"20"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-input",{model:{value:t.row.stepUrl,callback:function(n){e.$set(t.row,"stepUrl",n)},expression:"scope.row.stepUrl"}})]}}])}),n("el-table-column",{attrs:{label:"图片说明","min-width":"40"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-input",{model:{value:t.row.description,callback:function(n){e.$set(t.row,"description",n)},expression:"scope.row.description"}})]}}])}),n("el-table-column",{attrs:{fixed:"right",label:"操作","min-width":"10"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(n){return n.preventDefault(),e.deleteCookStep(t.$index,e.formMenu.cookSteps)}}},[e._v(" 移除 ")])]}}])})],1),n("el-button",{attrs:{type:"success",round:""},on:{click:function(t){return e.addCookStepsListRow()}}},[e._v("添加一行")])],1),n("el-form-item",{attrs:{label:"小贴士:","label-width":"100px"}},[n("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入小贴士",type:"textarea",maxlength:"200","show-word-limit":"",clearable:""},model:{value:e.formMenu.tip,callback:function(t){e.$set(e.formMenu,"tip",t)},expression:"formMenu.tip"}})],1),n("el-form-item",{attrs:{"label-width":"100px"}},[n("el-checkbox",{model:{value:e.formMenu.isOfficial,callback:function(t){e.$set(e.formMenu,"isOfficial",t)},expression:"formMenu.isOfficial"}},[e._v("是否发布为官方菜谱")])],1),n("el-form-item",{attrs:{"label-width":"100px"}},[n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.addMenuDraftForm()}}},[e._v("存为草稿")]),n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.addMenuForm()}}},[e._v("上传")])],1)],1)],1)},o=[],r=(n("a434"),{name:"AddMenu",data:function(){return{formMenu:{name:"",deg:"",tm:"",menuUrl:"",fl:"",cookSteps:[],deviceImgs:[],tip:"",isOfficial:null,publishStatus:null},fl1:[]}},methods:{addFlListRow:function(){this.fl1.push({name:"",weight:""})},addCookStepsListRow:function(){this.formMenu.cookSteps.push({stepUrl:"",description:""})},deleteFl:function(e,t){t.splice(e,1)},deleteCookStep:function(e,t){t.splice(e,1)},addMenuDraftForm:function(){var e=this;console.log("存为草稿"),this.$refs.menuForm.validate((function(t){if(t){e.formMenu.publishStatus=0,e.formMenu.fl=JSON.stringify(JSON.parse(e.fl1));var n=JSON.stringify(e.formMenu),l={headers:{"Content-Type":"application/json;charset=UTF-8"}},o="/api/menu/addMenu";e.$axios.post(o,n,l).then((function(t){if(200!==t.status)return console.log("error submit!!"),!1;e.$message.success("添加成功"),e.formMenu={brand_right:0},e.$router.push({path:"/menu"})}))}}))},addMenuForm:function(){var e=this;console.log("上架"),this.$refs.menuForm.validate((function(t){if(t){e.formMenu.publishStatus=1,e.formMenu.fl=JSON.stringify(e.fl1),console.log(t);var n=JSON.stringify(e.formMenu),l={headers:{"Content-Type":"application/json;charset=UTF-8"}},o="/api/menu/addMenu";e.$axios.post(o,n,l).then((function(t){if(200!==t.status)return console.log("error submit!!"),!1;e.$message.success("添加成功"),e.formMenu={brand_right:0},e.$router.push({path:"/menu"})}))}}))}}}),a=r,i=(n("dcae"),n("2877")),u=Object(i["a"])(a,l,o,!1,null,"ebb7cbfa",null);t["default"]=u.exports},"1dde":function(e,t,n){var l=n("d039"),o=n("b622"),r=n("2d00"),a=o("species");e.exports=function(e){return r>=51||!l((function(){var t=[],n=t.constructor={};return n[a]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},2706:function(e,t,n){},"65f0":function(e,t,n){var l=n("861d"),o=n("e8b5"),r=n("b622"),a=r("species");e.exports=function(e,t){var n;return o(e)&&(n=e.constructor,"function"!=typeof n||n!==Array&&!o(n.prototype)?l(n)&&(n=n[a],null===n&&(n=void 0)):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},8418:function(e,t,n){"use strict";var l=n("c04e"),o=n("9bf2"),r=n("5c6c");e.exports=function(e,t,n){var a=l(t);a in e?o.f(e,a,r(0,n)):e[a]=n}},a434:function(e,t,n){"use strict";var l=n("23e7"),o=n("23cb"),r=n("a691"),a=n("50c4"),i=n("7b0b"),u=n("65f0"),s=n("8418"),c=n("1dde"),f=n("ae40"),d=c("splice"),m=f("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,b=Math.min,h=9007199254740991,w="Maximum allowed length exceeded";l({target:"Array",proto:!0,forced:!d||!m},{splice:function(e,t){var n,l,c,f,d,m,v=i(this),x=a(v.length),M=o(e,x),y=arguments.length;if(0===y?n=l=0:1===y?(n=0,l=x-M):(n=y-2,l=b(p(r(t),0),x-M)),x+n-l>h)throw TypeError(w);for(c=u(v,l),f=0;f<l;f++)d=M+f,d in v&&s(c,f,v[d]);if(c.length=l,n<l){for(f=M;f<x-l;f++)d=f+l,m=f+n,d in v?v[m]=v[d]:delete v[m];for(f=x;f>x-l+n;f--)delete v[f-1]}else if(n>l)for(f=x-l;f>M;f--)d=f+l-1,m=f+n-1,d in v?v[m]=v[d]:delete v[m];for(f=0;f<n;f++)v[f+M]=arguments[f+2];return v.length=x-l+n,c}})},ae40:function(e,t,n){var l=n("83ab"),o=n("d039"),r=n("5135"),a=Object.defineProperty,i={},u=function(e){throw e};e.exports=function(e,t){if(r(i,e))return i[e];t||(t={});var n=[][e],s=!!r(t,"ACCESSORS")&&t.ACCESSORS,c=r(t,0)?t[0]:u,f=r(t,1)?t[1]:void 0;return i[e]=!!n&&!o((function(){if(s&&!l)return!0;var e={length:-1};s?a(e,1,{enumerable:!0,get:u}):e[1]=1,n.call(e,c,f)}))}},dcae:function(e,t,n){"use strict";var l=n("2706"),o=n.n(l);o.a},e8b5:function(e,t,n){var l=n("c6b6");e.exports=Array.isArray||function(e){return"Array"==l(e)}}}]);
//# sourceMappingURL=chunk-3a902067.9c4793e5.js.map