{"version":3,"sources":["webpack:///./src/views/menu/Menu.vue?27f5","webpack:///src/views/menu/Menu.vue","webpack:///./src/views/menu/Menu.vue?c5b4","webpack:///./src/views/menu/Menu.vue","webpack:///./src/views/menu/Menu.vue?5dee"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","$event","addMenu","_v","batchAddMenu","batchSoldOut","batchDeleteMenu","loadMenuDataList","model","value","callback","$$v","menuName","expression","search","slot","staticStyle","MenuDataList","scopedSlots","_u","key","fn","scope","row","menuUrl","isPublishStatus","handleEdit","id","handleDelete","currentPage","limit","total","handleSizeChange","handleCurrentChange","staticRenderFns","component"],"mappings":"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","file":"js/chunk-0e04276c.3eb246c0.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-card',{staticClass:\"box-card\"},[_c('my-bread',{attrs:{\"level1\":\"菜谱管理\",\"level2\":\"菜谱列表\"}}),_c('el-row',{staticClass:\"searchRow\"},[_c('el-col',{attrs:{\"span\":10}},[_c('div',{staticClass:\"grid-content bg-purple\"},[_c('el-button',{attrs:{\"size\":\"medium\",\"type\":\"success\"},on:{\"click\":function($event){return _vm.addMenu()}}},[_vm._v(\"添加菜谱\")]),_c('el-button',{attrs:{\"size\":\"medium\",\"type\":\"info\"},on:{\"click\":function($event){_vm.batchAddMenu = true}}},[_vm._v(\"批量发布\")]),_c('el-button',{attrs:{\"size\":\"medium\",\"type\":\"warning\"},on:{\"click\":function($event){_vm.batchSoldOut = true}}},[_vm._v(\"批量下架\")]),_c('el-button',{attrs:{\"size\":\"medium\",\"type\":\"danger\"},on:{\"click\":function($event){_vm.batchDeleteMenu = true}}},[_vm._v(\"批量删除\")])],1)]),_c('el-col',{attrs:{\"span\":4,\"offset\":8}},[_c('div',{staticClass:\"grid-content bg-purple\"},[_c('el-input',{attrs:{\"placeholder\":\"搜索菜谱\",\"clearable\":\"\"},on:{\"clear\":function($event){return _vm.loadMenuDataList()}},model:{value:(_vm.menuName),callback:function ($$v) {_vm.menuName=$$v},expression:\"menuName\"}},[_c('el-button',{attrs:{\"slot\":\"append\",\"icon\":\"el-icon-search\"},on:{\"click\":function($event){return _vm.search()}},slot:\"append\"})],1)],1)])],1),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.MenuDataList,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"min-width\":\"10\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"菜谱名称\",\"min-width\":\"20\",\"prop\":\"name\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"头图\",\"min-width\":\"20\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('img',{attrs:{\"src\":scope.row.menuUrl,\"alt\":\"图片消失\",\"width\":\"50\",\"height\":\"50\"}})]}}])}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"菜谱Id\",\"min-width\":\"10\",\"prop\":\"id\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"菜谱属性\",\"min-width\":\"10\",\"prop\":\"isOfficial\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"发布状态\",\"min-width\":\"10\",\"prop\":\"publishStatus\",\"formatter\":_vm.isPublishStatus}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"上传用户\",\"min-width\":\"10\",\"prop\":\"authorName\"}}),_c('el-table-column',{attrs:{\"align\":\"left\",\"label\":\"操作\",\"min-width\":\"10\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.handleEdit(scope.row.id)}}},[_vm._v(\"编辑\")]),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.handleDelete(scope.row.id)}}},[_vm._v(\"删除\")])]}}])})],1),_c('div',{staticClass:\"r_page\"},[_c('el-pagination',{attrs:{\"background\":\"\",\"current-page\":_vm.currentPage,\"page-sizes\":[10,20,30,50,100,200,500],\"page-size\":_vm.limit,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <el-card class=\"box-card\">\r\n    <my-bread level1=\"菜谱管理\" level2=\"菜谱列表\"></my-bread>\r\n    <el-row class=\"searchRow\">\r\n      <el-col :span=\"10\">\r\n        <div class=\"grid-content bg-purple\">\r\n          <el-button size=\"medium\" type=\"success\" @click=\"addMenu()\">添加菜谱</el-button>\r\n          <el-button size=\"medium\" type=\"info\" @click=\"batchAddMenu = true\">批量发布</el-button>\r\n          <el-button size=\"medium\" type=\"warning\" @click=\"batchSoldOut = true\">批量下架</el-button>\r\n          <el-button size=\"medium\" type=\"danger\" @click=\"batchDeleteMenu = true\">批量删除</el-button>\r\n        </div>\r\n      </el-col>\r\n      <el-col :span=\"4\" :offset=\"8\">\r\n        <div class=\"grid-content bg-purple\">\r\n          <el-input placeholder=\"搜索菜谱\"\r\n                    v-model=\"menuName\"\r\n                    clearable\r\n                    @clear=\"loadMenuDataList()\">\r\n            <el-button slot=\"append\"  icon=\"el-icon-search\" @click=\"search()\"></el-button>\r\n          </el-input>\r\n        </div>\r\n      </el-col>\r\n    </el-row>\r\n\r\n    <el-table\r\n            :data=\"MenuDataList\"\r\n            style=\"width: 100%\"\r\n            border>\r\n      <el-table-column\r\n              type=\"selection\"\r\n              min-width=\"10\">\r\n      </el-table-column>\r\n      <el-table-column\r\n              align=\"center\"\r\n              label=\"菜谱名称\"\r\n              min-width=\"20\"\r\n              prop=\"name\">\r\n      </el-table-column>\r\n      <el-table-column\r\n              align=\"center\"\r\n              label=\"头图\"\r\n              min-width=\"20\">\r\n        <template slot-scope=\"scope\">\r\n          <img :src=\"scope.row.menuUrl\" alt=\"图片消失\" width=\"50\" height=\"50\">\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column\r\n              align=\"center\"\r\n              label=\"菜谱Id\"\r\n              min-width=\"10\"\r\n              prop=\"id\">\r\n      </el-table-column>\r\n      <el-table-column\r\n              align=\"center\"\r\n              label=\"菜谱属性\"\r\n              min-width=\"10\"\r\n              prop=\"isOfficial\">\r\n      </el-table-column>\r\n      <el-table-column\r\n              align=\"center\"\r\n              label=\"发布状态\"\r\n              min-width=\"10\"\r\n              prop=\"publishStatus\"\r\n              :formatter=\"isPublishStatus\">\r\n      </el-table-column>\r\n      <el-table-column\r\n              align=\"center\"\r\n              label=\"上传用户\"\r\n              min-width=\"10\"\r\n              prop=\"authorName\">\r\n      </el-table-column>\r\n      <el-table-column\r\n              align=\"left\"\r\n              label=\"操作\"\r\n              min-width=\"10\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button\r\n                  size=\"mini\"\r\n                  @click=\"handleEdit(scope.row.id)\">编辑</el-button>\r\n          <el-button\r\n                  size=\"mini\"\r\n                  type=\"danger\"\r\n                  @click=\"handleDelete(scope.row.id)\">删除</el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n\r\n    <div class=\"r_page\">\r\n      <el-pagination\r\n              background\r\n              @size-change=\"handleSizeChange\"\r\n              @current-change=\"handleCurrentChange\"\r\n              :current-page=\"currentPage\"\r\n              :page-sizes=\"[10,20,30,50,100,200,500]\"\r\n              :page-size=\"limit\"\r\n              layout=\"total, sizes, prev, pager, next, jumper\"\r\n              :total=\"total\"\r\n      ></el-pagination>\r\n    </div>\r\n  </el-card>\r\n</template>\r\n\r\n<script>\r\n  import PublishStatusEnums from \"../../enums/PublishStatusEnums\";\r\n  export default {\r\n        name: \"Menu\",\r\n        data() {\r\n            return {\r\n                MenuDataList: [],\r\n                limit: 10, // 每页显示的条数\r\n                total: 0, // 总条数\r\n                currentPage: 1, // 当前页\r\n                menuName: '',\r\n            }\r\n        },\r\n        created() {\r\n          this.findCheckMenuList();\r\n        },\r\n        methods: {\r\n            findCheckMenuList() {\r\n                this.$axios.get('/api/menu/findCheckMenuList',{\r\n                    params: {\r\n                        page: this.currentPage,\r\n                        pageSize: this.limit,\r\n                        name: this.menuName\r\n                    }\r\n                }).then(res=> {\r\n\r\n                    if(res.status === 200) {\r\n                        if (res.data.data == null) {\r\n                            this.$message.error(\"该菜谱不存在\");\r\n                        }\r\n                        this.MenuDataList = res.data.data.dataList;\r\n                        this.total = res.data.data.total;\r\n\r\n                        console.log(\"请求成功\");\r\n                    } else {\r\n                        console.log(\"请求失败\");\r\n                    }\r\n                })\r\n            },\r\n            // 每页显示条数\r\n            handleSizeChange(val) {\r\n                console.log(`每页 ${val} 条`);\r\n                // 改变每页显示的条数\r\n                this.limit = val;\r\n                // 注意: 在改变每页显示的条数时,要将页码显示到第一页\r\n                this.currentPage = 1;\r\n                if (this.menuName != null) {\r\n                    this.search();\r\n                }\r\n\r\n                this.findCheckMenuList();\r\n            },\r\n            // 显示第几页\r\n            handleCurrentChange(val) {\r\n                console.log(`当前页: ${val}`);\r\n                this.currentPage = val;\r\n                if (this.menuName != null) {\r\n                    this.search();\r\n                }\r\n                this.findCheckMenuList();\r\n            },\r\n            handleEdit(id) {\r\n                // 查询菜谱详情 并对它进行更新操作\r\n                this.$router.push({path: \"/menu/detail\",\r\n                    query: {\r\n                        id: id\r\n                    }\r\n                })\r\n\r\n                // console.log(index, row);\r\n            },\r\n            handleDelete(id) {\r\n                // console.log(index, row);\r\n                // 删除方法 需要传入菜谱Id\r\n                this.$confirm(\"确认要删除该记录吗?\", \"提示\", {\r\n                    confirmButtonText: \"确定\",\r\n                    cancelButtonText: \"取消\",\r\n                    type: \"warning\"\r\n                }).then(()=>{\r\n                    this.$axios.delete(\"/api/menu/deleteMenu\", {\r\n                        params: {\r\n                            menuId: id\r\n                        }\r\n                    }).then(res => {\r\n                        if (res.data.status === 200) {\r\n                            this.$message.success(\"删除成功\");\r\n                            this.findCheckMenuList();\r\n                        } else {\r\n                            this.$alert(\"删除失败，请刷新后重试!\", \"提示\");\r\n                        }\r\n                    })\r\n                })\r\n            },\r\n            loadMenuDataList() {\r\n                this.findCheckMenuList();\r\n            },\r\n            search() {\r\n                this.currentPage = 1;\r\n                this.findCheckMenuList();\r\n            },\r\n            addMenu() {\r\n                console.log(\"添加菜谱\");\r\n                this.$router.push({path:\"/menu/add\"})\r\n            },\r\n            isPublishStatus(val) {\r\n                return PublishStatusEnums.isPublishStatus(val.publishStatus)\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n  .box-card {\r\n    height: 100%;\r\n  }\r\n  .searchRow {\r\n    margin: 30px 0px 30px 0px;\r\n  }\r\n\r\n  .r_page {\r\n    float: right;\r\n  }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Menu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Menu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Menu.vue?vue&type=template&id=3cf3b3c9&scoped=true&\"\nimport script from \"./Menu.vue?vue&type=script&lang=js&\"\nexport * from \"./Menu.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Menu.vue?vue&type=style&index=0&id=3cf3b3c9&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3cf3b3c9\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Menu.vue?vue&type=style&index=0&id=3cf3b3c9&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Menu.vue?vue&type=style&index=0&id=3cf3b3c9&scoped=true&lang=css&\""],"sourceRoot":""}