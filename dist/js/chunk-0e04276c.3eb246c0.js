(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0e04276c"],{"391f":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-card",{staticClass:"box-card"},[n("my-bread",{attrs:{level1:"菜谱管理",level2:"菜谱列表"}}),n("el-row",{staticClass:"searchRow"},[n("el-col",{attrs:{span:10}},[n("div",{staticClass:"grid-content bg-purple"},[n("el-button",{attrs:{size:"medium",type:"success"},on:{click:function(e){return t.addMenu()}}},[t._v("添加菜谱")]),n("el-button",{attrs:{size:"medium",type:"info"},on:{click:function(e){t.batchAddMenu=!0}}},[t._v("批量发布")]),n("el-button",{attrs:{size:"medium",type:"warning"},on:{click:function(e){t.batchSoldOut=!0}}},[t._v("批量下架")]),n("el-button",{attrs:{size:"medium",type:"danger"},on:{click:function(e){t.batchDeleteMenu=!0}}},[t._v("批量删除")])],1)]),n("el-col",{attrs:{span:4,offset:8}},[n("div",{staticClass:"grid-content bg-purple"},[n("el-input",{attrs:{placeholder:"搜索菜谱",clearable:""},on:{clear:function(e){return t.loadMenuDataList()}},model:{value:t.menuName,callback:function(e){t.menuName=e},expression:"menuName"}},[n("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(e){return t.search()}},slot:"append"})],1)],1)])],1),n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.MenuDataList,border:""}},[n("el-table-column",{attrs:{type:"selection","min-width":"10"}}),n("el-table-column",{attrs:{align:"center",label:"菜谱名称","min-width":"20",prop:"name"}}),n("el-table-column",{attrs:{align:"center",label:"头图","min-width":"20"},scopedSlots:t._u([{key:"default",fn:function(t){return[n("img",{attrs:{src:t.row.menuUrl,alt:"图片消失",width:"50",height:"50"}})]}}])}),n("el-table-column",{attrs:{align:"center",label:"菜谱Id","min-width":"10",prop:"id"}}),n("el-table-column",{attrs:{align:"center",label:"菜谱属性","min-width":"10",prop:"isOfficial"}}),n("el-table-column",{attrs:{align:"center",label:"发布状态","min-width":"10",prop:"publishStatus",formatter:t.isPublishStatus}}),n("el-table-column",{attrs:{align:"center",label:"上传用户","min-width":"10",prop:"authorName"}}),n("el-table-column",{attrs:{align:"left",label:"操作","min-width":"10"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{size:"mini"},on:{click:function(n){return t.handleEdit(e.row.id)}}},[t._v("编辑")]),n("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(n){return t.handleDelete(e.row.id)}}},[t._v("删除")])]}}])})],1),n("div",{staticClass:"r_page"},[n("el-pagination",{attrs:{background:"","current-page":t.currentPage,"page-sizes":[10,20,30,50,100,200,500],"page-size":t.limit,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)},i=[],l=(n("ac1f"),n("841c"),n("66db")),s={name:"Menu",data:function(){return{MenuDataList:[],limit:10,total:0,currentPage:1,menuName:""}},created:function(){this.findCheckMenuList()},methods:{findCheckMenuList:function(){var t=this;this.$axios.get("/api/menu/findCheckMenuList",{params:{page:this.currentPage,pageSize:this.limit,name:this.menuName}}).then((function(e){200===e.status?(null==e.data.data&&t.$message.error("该菜谱不存在"),t.MenuDataList=e.data.data.dataList,t.total=e.data.data.total,console.log("请求成功")):console.log("请求失败")}))},handleSizeChange:function(t){console.log("每页 ".concat(t," 条")),this.limit=t,this.currentPage=1,null!=this.menuName&&this.search(),this.findCheckMenuList()},handleCurrentChange:function(t){console.log("当前页: ".concat(t)),this.currentPage=t,null!=this.menuName&&this.search(),this.findCheckMenuList()},handleEdit:function(t){this.$router.push({path:"/menu/detail",query:{id:t}})},handleDelete:function(t){var e=this;this.$confirm("确认要删除该记录吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$axios.delete("/api/menu/deleteMenu",{params:{menuId:t}}).then((function(t){200===t.data.status?(e.$message.success("删除成功"),e.findCheckMenuList()):e.$alert("删除失败，请刷新后重试!","提示")}))}))},loadMenuDataList:function(){this.findCheckMenuList()},search:function(){this.currentPage=1,this.findCheckMenuList()},addMenu:function(){console.log("添加菜谱"),this.$router.push({path:"/menu/add"})},isPublishStatus:function(t){return l["a"].isPublishStatus(t.publishStatus)}}},u=s,c=(n("a97b"),n("2877")),r=Object(c["a"])(u,a,i,!1,null,"3cf3b3c9",null);e["default"]=r.exports},a97b:function(t,e,n){"use strict";var a=n("baac"),i=n.n(a);i.a},baac:function(t,e,n){}}]);
//# sourceMappingURL=chunk-0e04276c.3eb246c0.js.map