(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7781995f"],{"0880":function(e,t,i){"use strict";i.r(t);var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"FestivalList"},[i("el-breadcrumb",{attrs:{separator:"/"}},[i("el-breadcrumb-item",[i("i",{staticClass:"el-icon-cloudy"}),e._v(" 应用云")]),i("el-breadcrumb-item",[i("i",{staticClass:"el-icon-phone-outline"}),e._v(" 语音包列表")])],1),i("div",{staticClass:"container"},[i("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogFormVisible=!0}}},[e._v("添加语言包")]),i("el-dialog",{attrs:{title:e.getTitle,visible:e.dialogFormVisible,width:"600px"},on:{"update:visible":function(t){e.dialogFormVisible=t},close:e.resetObj}},[i("el-form",{attrs:{"label-position":"right","label-width":"130px",model:e.voiceFirmwareVO}},[i("el-form-item",{attrs:{label:"MCU固件版本号"}},[i("el-input",{attrs:{placeholder:"MCU固件版本号",clearable:""},model:{value:e.voiceFirmwareVO.mcuVersion,callback:function(t){e.$set(e.voiceFirmwareVO,"mcuVersion",t)},expression:"voiceFirmwareVO.mcuVersion"}})],1),i("el-form-item",{attrs:{label:"语言固件版本号"}},[i("el-input",{attrs:{placeholder:"语言固件版本号",clearable:""},model:{value:e.voiceFirmwareVO.voiceVersion,callback:function(t){e.$set(e.voiceFirmwareVO,"voiceVersion",t)},expression:"voiceFirmwareVO.voiceVersion"}})],1),i("el-form-item",{attrs:{label:"总 分 包 数"}},[i("el-input-number",{attrs:{min:1,max:10,label:"分包数"},model:{value:e.voiceFirmwareVO.packageCount,callback:function(t){e.$set(e.voiceFirmwareVO,"packageCount",t)},expression:"voiceFirmwareVO.packageCount"}})],1),i("el-form-item",{attrs:{label:"每 个 包 大 小 "}},[i("el-input",{attrs:{placeholder:"每个包大小",clearable:""},model:{value:e.voiceFirmwareVO.packageSize,callback:function(t){e.$set(e.voiceFirmwareVO,"packageSize",t)},expression:"voiceFirmwareVO.packageSize"}})],1),i("el-form-item",{attrs:{label:"文件上传"}},[i("el-upload",{attrs:{action:"/cloud/application/upload","list-type":"picture-card","on-preview":e.handlePictureCardPreview,"on-remove":e.handleRemove,"on-success":e.handleSuccess}},[i("i",{staticClass:"el-icon-plus"})]),i("el-dialog",{attrs:{visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[i("img",{attrs:{width:"100%",src:e.fileVO.url,alt:""}})])],1),""!==e.fileVO.url?i("el-form-item",{attrs:{label:"文件名称","label-width":"100px"}},[i("el-input",{attrs:{type:"textarea",disabled:!0},model:{value:e.getNameByUrl,callback:function(t){e.getNameByUrl=t},expression:"getNameByUrl"}})],1):e._e(),""!==e.fileVO.url?i("el-form-item",{attrs:{label:"文件地址","label-width":"100px"}},[i("el-input",{attrs:{type:"textarea",disabled:!0},model:{value:e.fileVO.url,callback:function(t){e.$set(e.fileVO,"url",t)},expression:"fileVO.url"}})],1):e._e(),""!==e.fileVO.md5?i("el-form-item",{attrs:{label:"文件md5值","label-width":"100px"}},[i("el-input",{attrs:{type:"textarea",disabled:!0},model:{value:e.fileVO.md5,callback:function(t){e.$set(e.fileVO,"md5",t)},expression:"fileVO.md5"}})],1):e._e(),null!==e.fileVO.size?i("el-form-item",{attrs:{label:"文件大小","label-width":"100px"}},[i("el-input",{attrs:{type:"textarea",disabled:!0},model:{value:e.fileVO.size,callback:function(t){e.$set(e.fileVO,"size",t)},expression:"fileVO.size"}})],1):e._e()],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:e.cancelOperation}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:e.addOrUpdate}},[e._v("确 定")])],1)],1),i("div",{staticStyle:{margin:"20px"}}),i("el-table",{staticStyle:{width:"100%"},attrs:{data:e.records,"header-cell-style":{background:"#F6F7FB"},border:""}},[i("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"right","label-width":"150px",inline:""}},[i("el-form-item",{attrs:{label:"id"}},[i("span",[e._v(e._s(t.row.id))])]),i("el-form-item",{attrs:{label:"MCU固件版本号"}},[i("span",[e._v(e._s(t.row.mcuVersion))])]),i("el-form-item",{attrs:{label:"语言固件版本号"}},[i("span",[e._v(e._s(t.row.voiceVersion))])]),i("el-form-item",{attrs:{label:"链接地址"}},[i("el-link",{attrs:{target:"_blank",type:"primary",href:t.row.url}},[e._v(e._s(t.row.url)+" ")])],1),i("el-form-item",{attrs:{label:"文件大小"}},[i("span",[e._v(e._s(t.row.size))])]),i("el-form-item",{attrs:{label:"MD5值"}},[i("span",[e._v(e._s(t.row.md5))])]),i("el-form-item",{attrs:{label:"总分包数"}},[i("span",[e._v(e._s(t.row.packageCount))])]),i("el-form-item",{attrs:{label:"每个包大小"}},[i("span",[e._v(e._s(t.row.packageSize))])]),i("el-form-item",{attrs:{label:"创建时间"}},[i("span",[e._v(e._s(t.row.createTime))])])],1)]}}])}),i("el-table-column",{attrs:{align:"center",label:"序号",fixed:"",prop:"index",width:"70px"}}),i("el-table-column",{attrs:{align:"center",label:"MCU固件版本号",prop:"mcuVersion"}}),i("el-table-column",{attrs:{align:"center",label:"语音固件版本号",prop:"voiceVersion"}}),i("el-table-column",{attrs:{align:"center",label:"文件名",prop:"name"}}),i("el-table-column",{attrs:{align:"center",label:"创建时间",prop:"createTime"}}),i("el-table-column",{attrs:{align:"center",fixed:"right",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(i){return e.setObj(t.row.id)}}},[e._v("编辑")]),i("el-button",{staticStyle:{color:"red"},attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(i){return e.deleteById(t.row.id)}}},[e._v("删除")])]}}])})],1),i("br"),i("el-pagination",{staticClass:"el-pagination",attrs:{"current-page":e.pageCurrent,"page-sizes":[15,30,50,100],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},n=[],o=(i("4de4"),i("baa5"),i("d81d"),i("fb6a"),i("b0c0"),i("99af"),i("b775")),a={getVoiceList:function(e,t){return Object(o["a"])({url:"/application/voice/list/".concat(e,"/").concat(t),method:"get"})},addVoice:function(e){return Object(o["a"])({url:"/application/voice/add",method:"post",data:e})},updateVoice:function(e){return Object(o["a"])({url:"/application/voice/update",method:"post",data:e})},deleteVoice:function(e){return Object(o["a"])({url:"/application/voice/delete/".concat(e),method:"delete"})}},l={name:"FestivalList",data:function(){return{total:0,pages:0,records:[],pageCurrent:1,pageSize:15,voiceFirmwareVO:{id:null,mcuVersion:"",voiceVersion:"",url:"",size:null,md5:"",packageCount:null,packageSize:null},dialogFormVisible:!1,dialogVisible:!1,fileVO:{url:"",md5:"",size:null}}},created:function(){this.getVoiceList(1)},methods:{getVoiceList:function(e){var t=this;this.pageCurrent=e,a.getVoiceList(this.pageCurrent,this.pageSize).then((function(e){console.log(e);var i=e.data;t.total=i.total,t.pages=i.pages,t.records=i.records,t.pageCurrent=i.current,t.pageSize=i.size})).catch((function(e){console.log(e)}))},addOrUpdate:function(){null==this.voiceFirmwareVO.id?this.addVoiceFirmware():this.updateVoiceFirmware()},setObj:function(e){var t=this.records.filter((function(t){return t.id===e})),i=t.pop();this.voiceFirmwareVO.id=i.id,this.voiceFirmwareVO.mcuVersion=i.mcuVersion,this.voiceFirmwareVO.voiceVersion=i.voiceVersion,this.voiceFirmwareVO.url=i.url,this.fileVO.url=i.url,this.voiceFirmwareVO.md5=i.md5,this.fileVO.md5=i.md5,this.voiceFirmwareVO.size=i.size,this.fileVO.size=i.size,this.voiceFirmwareVO.packageCount=i.packageCount,this.voiceFirmwareVO.packageSize=i.packageSize,this.dialogFormVisible=!0},resetObj:function(){this.voiceFirmwareVO={id:null,mcuVersion:"",voiceVersion:"",url:"",size:null,md5:"",packageCount:null,packageSize:null},this.fileVO={url:"",md5:"",size:null}},cancelOperation:function(){this.dialogFormVisible=!1,this.resetObj()},addVoiceFirmware:function(){var e=this;this.voiceFirmwareVO.md5=this.fileVO.md5,this.voiceFirmwareVO.size=this.fileVO.size,this.voiceFirmwareVO.url=this.fileVO.url,a.addVoice(this.voiceFirmwareVO).then((function(t){e.getVoiceList(e.pageCurrent),console.log(t),e.$message({type:"success",message:"添加成功!"}),e.dialogFormVisible=!1,e.dialogVisible=!1,e.resetObj()})).catch((function(e){console.log(e)}))},updateVoiceFirmware:function(){var e=this;this.voiceFirmwareVO.url=this.fileVO.url,this.voiceFirmwareVO.md5=this.fileVO.md5,this.voiceFirmwareVO.size=this.fileVO.size,a.updateVoice(this.voiceFirmwareVO).then((function(t){e.getVoiceList(e.pageCurrent),e.$message({type:"success",message:"更新成功!"}),e.dialogFormVisible=!1,e.dialogVisible=!1,e.resetObj()})).catch((function(e){console.log(e)}))},deleteById:function(e){var t=this;this.$confirm("确认删除该记录？","提示",{confirmButtonClass:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){a.deleteVoice(e).then((function(e){t.getVoiceList(t.pageCurrent),console.log(e),t.$message({type:"success",message:"删除成功!"})})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))},handleSizeChange:function(e){this.pageSize=e,this.getVoiceList(this.pageCurrent)},handleCurrentChange:function(e){this.pageCurrent=e,this.getVoiceList(this.pageCurrent)},handleRemove:function(e,t){console.log("handleRemove"+e,t),this.fileVO.url={url:"",md5:"",size:null}},handlePictureCardPreview:function(e){console.log("***handlePictureCardPreview:"+e)},handleSuccess:function(e,t,i){var r=e.data;this.fileVO.url=r.url,console.log("****fileVO.url:"+this.fileVO.url),this.fileVO.md5=r.md5,this.fileVO.size=r.size,this.dialogVisible=!0}},computed:{getTitle:function(){return null==this.voiceFirmwareVO.id?"添加语音记录":"修改语音记录"},getNameByUrl:function(){if(""!==this.fileVO.url)return this.fileVO.url.slice(this.fileVO.url.lastIndexOf("/")+34);console.log("getNameByUrl中的URL为空")}},watch:{records:function(){var e=this,t=0;this.records.map((function(i){i.index=(e.pageCurrent-1)*e.pageSize+ ++t,null!=i.url&&i.url.length>33&&(i.name=i.url.slice(i.url.lastIndexOf("/")+34))}))}}},c=l,s=(i("b2f9"),i("2877")),u=Object(s["a"])(c,r,n,!1,null,"a5749d08",null);t["default"]=u.exports},"1dde":function(e,t,i){var r=i("d039"),n=i("b622"),o=i("2d00"),a=n("species");e.exports=function(e){return o>=51||!r((function(){var t=[],i=t.constructor={};return i[a]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"4de4":function(e,t,i){"use strict";var r=i("23e7"),n=i("b727").filter,o=i("1dde"),a=i("ae40"),l=o("filter"),c=a("filter");r({target:"Array",proto:!0,forced:!l||!c},{filter:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})},"65f0":function(e,t,i){var r=i("861d"),n=i("e8b5"),o=i("b622"),a=o("species");e.exports=function(e,t){var i;return n(e)&&(i=e.constructor,"function"!=typeof i||i!==Array&&!n(i.prototype)?r(i)&&(i=i[a],null===i&&(i=void 0)):i=void 0),new(void 0===i?Array:i)(0===t?0:t)}},8418:function(e,t,i){"use strict";var r=i("c04e"),n=i("9bf2"),o=i("5c6c");e.exports=function(e,t,i){var a=r(t);a in e?n.f(e,a,o(0,i)):e[a]=i}},"99af":function(e,t,i){"use strict";var r=i("23e7"),n=i("d039"),o=i("e8b5"),a=i("861d"),l=i("7b0b"),c=i("50c4"),s=i("8418"),u=i("65f0"),d=i("1dde"),f=i("b622"),p=i("2d00"),m=f("isConcatSpreadable"),g=9007199254740991,h="Maximum allowed index exceeded",v=p>=51||!n((function(){var e=[];return e[m]=!1,e.concat()[0]!==e})),b=d("concat"),V=function(e){if(!a(e))return!1;var t=e[m];return void 0!==t?!!t:o(e)},O=!v||!b;r({target:"Array",proto:!0,forced:O},{concat:function(e){var t,i,r,n,o,a=l(this),d=u(a,0),f=0;for(t=-1,r=arguments.length;t<r;t++)if(o=-1===t?a:arguments[t],V(o)){if(n=c(o.length),f+n>g)throw TypeError(h);for(i=0;i<n;i++,f++)i in o&&s(d,f,o[i])}else{if(f>=g)throw TypeError(h);s(d,f++,o)}return d.length=f,d}})},a640:function(e,t,i){"use strict";var r=i("d039");e.exports=function(e,t){var i=[][e];return!!i&&r((function(){i.call(null,t||function(){throw 1},1)}))}},a78e:function(e,t,i){var r,n;
/*!
 * JavaScript Cookie v2.2.0
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */(function(o){var a=!1;if(r=o,n="function"===typeof r?r.call(t,i,t,e):r,void 0===n||(e.exports=n),a=!0,e.exports=o(),a=!0,!a){var l=window.Cookies,c=window.Cookies=o();c.noConflict=function(){return window.Cookies=l,c}}})((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var i=arguments[e];for(var r in i)t[r]=i[r]}return t}function t(i){function r(t,n,o){var a;if("undefined"!==typeof document){if(arguments.length>1){if(o=e({path:"/"},r.defaults,o),"number"===typeof o.expires){var l=new Date;l.setMilliseconds(l.getMilliseconds()+864e5*o.expires),o.expires=l}o.expires=o.expires?o.expires.toUTCString():"";try{a=JSON.stringify(n),/^[\{\[]/.test(a)&&(n=a)}catch(h){}n=i.write?i.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)),t=t.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),t=t.replace(/[\(\)]/g,escape);var c="";for(var s in o)o[s]&&(c+="; "+s,!0!==o[s]&&(c+="="+o[s]));return document.cookie=t+"="+n+c}t||(a={});for(var u=document.cookie?document.cookie.split("; "):[],d=/(%[0-9A-Z]{2})+/g,f=0;f<u.length;f++){var p=u[f].split("="),m=p.slice(1).join("=");this.json||'"'!==m.charAt(0)||(m=m.slice(1,-1));try{var g=p[0].replace(d,decodeURIComponent);if(m=i.read?i.read(m,g):i(m,g)||m.replace(d,decodeURIComponent),this.json)try{m=JSON.parse(m)}catch(h){}if(t===g){a=m;break}t||(a[g]=m)}catch(h){}}return a}}return r.set=r,r.get=function(e){return r.call(r,e)},r.getJSON=function(){return r.apply({json:!0},[].slice.call(arguments))},r.defaults={},r.remove=function(t,i){r(t,"",e(i,{expires:-1}))},r.withConverter=t,r}return t((function(){}))}))},ae40:function(e,t,i){var r=i("83ab"),n=i("d039"),o=i("5135"),a=Object.defineProperty,l={},c=function(e){throw e};e.exports=function(e,t){if(o(l,e))return l[e];t||(t={});var i=[][e],s=!!o(t,"ACCESSORS")&&t.ACCESSORS,u=o(t,0)?t[0]:c,d=o(t,1)?t[1]:void 0;return l[e]=!!i&&!n((function(){if(s&&!r)return!0;var e={length:-1};s?a(e,1,{enumerable:!0,get:c}):e[1]=1,i.call(e,u,d)}))}},b2f9:function(e,t,i){"use strict";var r=i("b324"),n=i.n(r);n.a},b324:function(e,t,i){},b727:function(e,t,i){var r=i("0366"),n=i("44ad"),o=i("7b0b"),a=i("50c4"),l=i("65f0"),c=[].push,s=function(e){var t=1==e,i=2==e,s=3==e,u=4==e,d=6==e,f=5==e||d;return function(p,m,g,h){for(var v,b,V=o(p),O=n(V),w=r(m,g,3),y=a(O.length),C=0,x=h||l,F=t?x(p,y):i?x(p,0):void 0;y>C;C++)if((f||C in O)&&(v=O[C],b=w(v,C,V),e))if(t)F[C]=b;else if(b)switch(e){case 3:return!0;case 5:return v;case 6:return C;case 2:c.call(F,v)}else if(u)return!1;return d?-1:s||u?u:F}};e.exports={forEach:s(0),map:s(1),filter:s(2),some:s(3),every:s(4),find:s(5),findIndex:s(6)}},b775:function(e,t,i){"use strict";i("d3b7");var r=i("bc3a"),n=i.n(r),o=i("5c96"),a=i("4360"),l=i("a78e"),c=i.n(l),s="Admin-Token";function u(){return c.a.get(s)}var d=n.a.create({baseURL:"/cloud",timeout:5e3});d.interceptors.request.use((function(e){return a["a"].getters.token&&(e.headers["X-Token"]=u()),e}),(function(e){return console.log(e),Promise.reject(e)})),d.interceptors.response.use((function(e){var t=e.data;return 200!==t.code?(Object(o["Message"])({message:t.msg||"Error",type:"error",duration:5e3}),50008!==t.code&&50012!==t.code&&50014!==t.code||o["MessageBox"].confirm("You have been logged out, you can cancel to stay on this page, or log in again","Confirm logout",{confirmButtonText:"Re-Login",cancelButtonText:"Cancel",type:"warning"}).then((function(){a["a"].dispatch("user/resetToken").then((function(){location.reload()}))})),Promise.reject(new Error(t.message||"Error"))):t}),(function(e){return console.log("err"+e),Object(o["Message"])({message:e.message,type:"error",duration:5e3}),Promise.reject(e)}));t["a"]=d},baa5:function(e,t,i){var r=i("23e7"),n=i("e58c");r({target:"Array",proto:!0,forced:n!==[].lastIndexOf},{lastIndexOf:n})},d81d:function(e,t,i){"use strict";var r=i("23e7"),n=i("b727").map,o=i("1dde"),a=i("ae40"),l=o("map"),c=a("map");r({target:"Array",proto:!0,forced:!l||!c},{map:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})},e58c:function(e,t,i){"use strict";var r=i("fc6a"),n=i("a691"),o=i("50c4"),a=i("a640"),l=i("ae40"),c=Math.min,s=[].lastIndexOf,u=!!s&&1/[1].lastIndexOf(1,-0)<0,d=a("lastIndexOf"),f=l("indexOf",{ACCESSORS:!0,1:0}),p=u||!d||!f;e.exports=p?function(e){if(u)return s.apply(this,arguments)||0;var t=r(this),i=o(t.length),a=i-1;for(arguments.length>1&&(a=c(a,n(arguments[1]))),a<0&&(a=i+a);a>=0;a--)if(a in t&&t[a]===e)return a||0;return-1}:s},e8b5:function(e,t,i){var r=i("c6b6");e.exports=Array.isArray||function(e){return"Array"==r(e)}},fb6a:function(e,t,i){"use strict";var r=i("23e7"),n=i("861d"),o=i("e8b5"),a=i("23cb"),l=i("50c4"),c=i("fc6a"),s=i("8418"),u=i("b622"),d=i("1dde"),f=i("ae40"),p=d("slice"),m=f("slice",{ACCESSORS:!0,0:0,1:2}),g=u("species"),h=[].slice,v=Math.max;r({target:"Array",proto:!0,forced:!p||!m},{slice:function(e,t){var i,r,u,d=c(this),f=l(d.length),p=a(e,f),m=a(void 0===t?f:t,f);if(o(d)&&(i=d.constructor,"function"!=typeof i||i!==Array&&!o(i.prototype)?n(i)&&(i=i[g],null===i&&(i=void 0)):i=void 0,i===Array||void 0===i))return h.call(d,p,m);for(r=new(void 0===i?Array:i)(v(m-p,0)),u=0;p<m;p++,u++)p in d&&s(r,u,d[p]);return r.length=u,r}})}}]);
//# sourceMappingURL=chunk-7781995f.2b128488.js.map