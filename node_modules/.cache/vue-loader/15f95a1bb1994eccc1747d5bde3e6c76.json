{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\cook-rms-master(2)\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\cook-rms-master(2)\\src\\views\\application\\Weather.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\cook-rms-master(2)\\src\\views\\application\\Weather.vue","mtime":1596276361707},{"path":"C:\\Users\\Administrator\\Desktop\\cook-rms-master(2)\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1595921340657},{"path":"C:\\Users\\Administrator\\Desktop\\cook-rms-master(2)\\node_modules\\babel-loader\\lib\\index.js","mtime":1595921337356},{"path":"C:\\Users\\Administrator\\Desktop\\cook-rms-master(2)\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1595921340657},{"path":"C:\\Users\\Administrator\\Desktop\\cook-rms-master(2)\\node_modules\\vue-loader\\lib\\index.js","mtime":1595921369308}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB3ZWF0aGVyIGZyb20gIi4uLy4uL2FwaS9hcHBsaWNhdGlvbi93ZWF0aGVyIgppbXBvcnQgbW9tZW50IGZyb20gIm1vbWVudCIKCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICIiLAogICAgZGF0YSgpIHsKICAgICAgICByZXR1cm4gKHsKICAgICAgICAgICAgcGFnZUN1cnJlbnQ6IDEsCiAgICAgICAgICAgIHBhZ2VTaXplOiAxNSwKICAgICAgICAgICAgdG90YWw6IDAsCiAgICAgICAgICAgIHBhZ2VzOiAwLAogICAgICAgICAgICByZWNvcmRzOiBbXSwKICAgICAgICAgICAgd2VhdGhlckRheTogIiIsCiAgICAgICAgICAgIHNlYXJjaEZhY3RvcjogewogICAgICAgICAgICAgICAgc2VhcmNoRGF0ZTogIiIsCiAgICAgICAgICAgICAgICBzZWFyY2hDaXR5OiAiIgogICAgICAgICAgICB9LAogICAgICAgICAgICB3ZWF0aGVyVk86IHsKICAgICAgICAgICAgICAgIGlkOiBudWxsLAogICAgICAgICAgICAgICAgY2l0eUNvZGU6ICIiLCAvL+WfjuW4gmlkCiAgICAgICAgICAgICAgICBjaXR5TmFtZTogIiIsIC8v5Z+O5biC5ZCNCiAgICAgICAgICAgICAgICB3ZWF0aGVyRGF5OiAiIiwgLy/ml6XmnJ8KICAgICAgICAgICAgICAgIHRlbXA6IG51bGwsIC8v5b2T5YmN5rCU5ripCiAgICAgICAgICAgICAgICBoaWdoVGVtcDogbnVsbCwgLy/mnIDpq5jmuKnluqYKICAgICAgICAgICAgICAgIGxvd1RlbXA6IG51bGwsIC8v5pyA5L2O5rip5bqmCiAgICAgICAgICAgICAgICB3ZWF0aGVySWQ6IG51bGwsIC8v5aSp5rCU5bqP5Y+3CiAgICAgICAgICAgICAgICBkZXNjOiAiIiAvL+WkqeawlOivtOaYjgogICAgICAgICAgICB9LAogICAgICAgICAgICBkaWFsb2dGb3JtVmlzaWJsZTogZmFsc2UsCiAgICAgICAgICAgIHBpY2tlck9wdGlvbnM6IHsKICAgICAgICAgICAgICAgIGRpc2FibGVkRGF0ZSh0aW1lKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRpbWUuZ2V0VGltZSgpID4gRGF0ZS5ub3coKSArIDM2MDAgKiAxMDAwICogMjQ7CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgc2hvcnRjdXRzOiBbCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAn5piO5aSpJywKICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljayhwaWNrZXIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZS5zZXRUaW1lKGRhdGUuZ2V0VGltZSgpICsgMzYwMCAqIDEwMDAgKiAyNCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaWNrZXIuJGVtaXQoJ3BpY2snLCBkYXRlKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAn5LuK5aSpJywKICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljayhwaWNrZXIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBpY2tlci4kZW1pdCgncGljaycsIG5ldyBEYXRlKCkpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAn5pio5aSpJywKICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljayhwaWNrZXIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZS5zZXRUaW1lKGRhdGUuZ2V0VGltZSgpIC0gMzYwMCAqIDEwMDAgKiAyNCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaWNrZXIuJGVtaXQoJ3BpY2snLCBkYXRlKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH1dCiAgICAgICAgICAgIH0sCiAgICAgICAgfSkKICAgIH0sCiAgICBjcmVhdGVkKCkgewogICAgICAgIHRoaXMuc2VhcmNoRmFjdG9yLndlYXRoZXJEYXkgPSBtb21lbnQoKS5mb3JtYXQoJ1lZWVktTU0tREQnKTsKICAgICAgICB0aGlzLmdldFdlYXRoZXIoMSkKICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgZ2V0V2VhdGhlcihwYWdlQ3VycmVudCkgewogICAgICAgICAgICB0aGlzLnBhZ2VDdXJyZW50ID0gcGFnZUN1cnJlbnQ7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCIqKipzZWFyY2hGYWN0b3IiICsgdGhpcy5zZWFyY2hGYWN0b3IpOwogICAgICAgICAgICBjb25zb2xlLmxvZygiKioqc2VhcmNoRGF0ZSIgKyB0aGlzLnNlYXJjaEZhY3Rvci5zZWFyY2hEYXRlKTsKICAgICAgICAgICAgY29uc29sZS5sb2coIioqKnNlYXJjaENpdHkiICsgdGhpcy5zZWFyY2hGYWN0b3Iuc2VhcmNoQ2l0eSk7CiAgICAgICAgICAgIHdlYXRoZXIuZ2V0V2VhdGhlckxpc3QocGFnZUN1cnJlbnQsIHRoaXMucGFnZVNpemUsIHRoaXMuc2VhcmNoRmFjdG9yKQogICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgICAgICAgICAgIGxldCBkYXRhID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgICAgICAgICAgICB0aGlzLnJlY29yZHMgPSBkYXRhLnJlY29yZHM7CiAgICAgICAgICAgICAgICAgICAgdGhpcy50b3RhbCA9IGRhdGEudG90YWw7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5wYWdlcyA9IGRhdGEucGFnZXM7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50ID0gZGF0YS5jdXJyZW50OwogICAgICAgICAgICAgICAgICAgIHRoaXMuc2l6ZSA9IGRhdGEuc2l6ZTsKICAgICAgICAgICAgICAgIH0pLmNhdGNoKGVycm9yID0+IHsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpCiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICBzZXRPYmooaWQpIHsKICAgICAgICAgICAgbGV0IGxpc3QgPSB0aGlzLnJlY29yZHMuZmlsdGVyKHJlY29yZCA9PiB7CiAgICAgICAgICAgICAgICByZXR1cm4gcmVjb3JkLmlkID09PSBpZDsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGxldCBkYXRhID0gbGlzdC5wb3AoKTsKICAgICAgICAgICAgdGhpcy53ZWF0aGVyVk8uaWQgPSBkYXRhLmlkOwogICAgICAgICAgICB0aGlzLndlYXRoZXJWTy5jaXR5Q29kZSA9IGRhdGEuY2l0eUNvZGU7CiAgICAgICAgICAgIHRoaXMud2VhdGhlclZPLmNpdHlOYW1lID0gZGF0YS5jaXR5TmFtZTsKICAgICAgICAgICAgdGhpcy53ZWF0aGVyVk8ud2VhdGhlckRheSA9IGRhdGEud2VhdGhlckRheTsKICAgICAgICAgICAgdGhpcy53ZWF0aGVyVk8udGVtcCA9IGRhdGEudGVtcDsKICAgICAgICAgICAgdGhpcy53ZWF0aGVyVk8uaGlnaFRlbXAgPSBkYXRhLmhpZ2hUZW1wOwogICAgICAgICAgICB0aGlzLndlYXRoZXJWTy5sb3dUZW1wID0gZGF0YS5sb3dUZW1wOwogICAgICAgICAgICB0aGlzLndlYXRoZXJWTy53ZWF0aGVySWQgPSBkYXRhLndlYXRoZXJJZCArICcnOwoKICAgICAgICAgICAgdGhpcy5kaWFsb2dGb3JtVmlzaWJsZSA9IHRydWU7CiAgICAgICAgfSwKICAgICAgICBhZGRXZWF0aGVyKCkgewogICAgICAgICAgICB3ZWF0aGVyLmFkZFdlYXRoZXIoKQogICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0V2VhdGhlcih0aGlzLnBhZ2VDdXJyZW50KTsKICAgICAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAogICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAi5re75Yqg5b2T5YmN5pel5pyf5Z+O5biC5aSp5rCU5oiQ5YqfISIKICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpCiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICB1cGRhdGVXZWF0aGVyKCkgewogICAgICAgICAgICB3ZWF0aGVyLnVwZGF0ZVdlYXRoZXIodGhpcy53ZWF0aGVyVk8pCiAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRXZWF0aGVyKHRoaXMucGFnZUN1cnJlbnQpOwogICAgICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICLmm7TmlrDlpKnmsJTorrDlvZXmiJDlip8hIgogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaWFsb2dGb3JtVmlzaWJsZSA9IGZhbHNlOwogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpCiAgICAgICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgZGVsZXRlQnlJZChpZCkgewogICAgICAgICAgICB3ZWF0aGVyLmRlbGV0ZVdlYXRoZXIoaWQpCiAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRXZWF0aGVyKHRoaXMucGFnZUN1cnJlbnQpOwogICAgICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICLliKDpmaTlpKnmsJTorrDlvZXmiJDlip8hIgogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICB9KS5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcikKICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIC8v5YiG6aG15Yqf6IO9CiAgICAgICAgaGFuZGxlU2l6ZUNoYW5nZShwYWdlU2l6ZSkgewogICAgICAgICAgICB0aGlzLnBhZ2VTaXplID0gcGFnZVNpemU7CiAgICAgICAgICAgIHRoaXMuZ2V0V2VhdGhlcih0aGlzLnBhZ2VDdXJyZW50KQogICAgICAgIH0sCiAgICAgICAgaGFuZGxlQ3VycmVudENoYW5nZShwYWdlQ3VycmVudCkgewogICAgICAgICAgICB0aGlzLnBhZ2VDdXJyZW50ID0gcGFnZUN1cnJlbnQ7CiAgICAgICAgICAgIHRoaXMuZ2V0V2VhdGhlcih0aGlzLnBhZ2VDdXJyZW50KQogICAgICAgIH0sCiAgICAgICAgLy/muIXnqbrmn6Xor6LmnaHku7YKICAgICAgICBjbGVhclNlYXJjaEZhY3RvcigpIHsKICAgICAgICAgICAgdGhpcy5zZWFyY2hGYWN0b3IgPSB7c2VhcmNoRGF0ZTogIiIsIHNlYXJjaENpdHk6ICIifTsKICAgICAgICAgICAgdGhpcy5nZXRXZWF0aGVyKDEpCiAgICAgICAgfQogICAgfSwKICAgIGNvbXB1dGVkOiB7CiAgICAgICAgZ2V0RGF0ZSgpIHsKICAgICAgICAgICAgaWYgKHRoaXMud2VhdGhlclZPLndlYXRoZXJEYXkgPT09ICcnKSB7CiAgICAgICAgICAgICAgICB0aGlzLndlYXRoZXJWTy53ZWF0aGVyRGF5ID0gbW9tZW50KCkuZm9ybWF0KCdZWVlZLU1NLUREJyk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9LAogICAgd2F0Y2g6IHsKICAgICAgICAnd2VhdGhlclZPLndlYXRoZXJJZCcoKSB7CiAgICAgICAgICAgIHN3aXRjaCAodGhpcy53ZWF0aGVyVk8ud2VhdGhlcklkKSB7CiAgICAgICAgICAgICAgICBjYXNlICIxIjoKICAgICAgICAgICAgICAgICAgICB0aGlzLndlYXRoZXJWTy5kZXNjID0gIuaZtCI7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICBjYXNlICIyIjoKICAgICAgICAgICAgICAgICAgICB0aGlzLndlYXRoZXJWTy5kZXNjID0gIuWkmuS6kSI7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICBjYXNlICIzIjoKICAgICAgICAgICAgICAgICAgICB0aGlzLndlYXRoZXJWTy5kZXNjID0gIumbqCI7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICBjYXNlICI0IjoKICAgICAgICAgICAgICAgICAgICB0aGlzLndlYXRoZXJWTy5kZXNjID0gIumbqiI7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgICAgIHRoaXMud2VhdGhlclZPLmRlc2MgPSAi6Zi0IjsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfQoK"},{"version":3,"sources":["Weather.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoJA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Weather.vue","sourceRoot":"src/views/application","sourcesContent":["<template>\r\n    <div class=\"weather\">\r\n        <el-breadcrumb separator=\"/\">\r\n            <el-breadcrumb-item><i class=\"el-icon-cloudy\"/> 应用云</el-breadcrumb-item>\r\n            <el-breadcrumb-item><i class=\"el-icon-sunny\"/> 天气管理</el-breadcrumb-item>\r\n        </el-breadcrumb>\r\n\r\n        <div class=\"container\">\r\n            <div>\r\n                <el-button type=\"primary\" @click=\"addWeather\">添加当天天气</el-button>\r\n                <el-button type=\"success\" @click=\"getWeather(1,searchFactor)\" style=\"margin-left: 70px\">查询天气</el-button>\r\n                <el-button type=\"info\" @click=\"this.clearSearchFactor\">清空条件</el-button>\r\n                <el-date-picker style=\"width: 150px\"\r\n                                v-model=\"searchFactor.searchDate\"\r\n                                align=\"right\"\r\n                                type=\"date\"\r\n                                value-format=\"yyyy-MM-dd\"\r\n                                placeholder=\"选择日期\"\r\n                                :picker-options=\"pickerOptions\">\r\n                </el-date-picker>\r\n\r\n                <el-input style=\"margin-right: 10px;width: 150px\" placeholder=\"输入城市\" v-model=\"searchFactor.searchCity\"\r\n                          clearable/>\r\n\r\n            </div>\r\n\r\n            <el-dialog title=\"更新天气记录\" :visible.sync=\"dialogFormVisible\">\r\n                <el-form ref=\"form\" :model=\"weatherVO\">\r\n\r\n                    <el-form-item label=\"城市id\" prop=\"region\" label-width=\"100px\">\r\n                        <el-input\r\n                                placeholder=\"请输入内容\"\r\n                                v-model=\"weatherVO.cityCode\"\r\n                                :disabled=\"true\">\r\n                        </el-input>\r\n                    </el-form-item>\r\n\r\n                    <el-form-item label=\"城市名称\" prop=\"region\" label-width=\"100px\">\r\n                        <el-input\r\n                                placeholder=\"请输入内容\"\r\n                                v-model=\"weatherVO.cityName\"\r\n                                :disabled=\"true\">\r\n                        </el-input>\r\n                    </el-form-item>\r\n\r\n                    <el-form-item label=\"天气日期\" label-width=\"100px\">\r\n                        <el-date-picker\r\n                                v-model=\"weatherVO.weatherDay\"\r\n                                type=\"date\"\r\n                                align=\"right\"\r\n                                :default-value=\"getDate\"\r\n                                value-format=\"yyyy-MM-dd\">\r\n                        </el-date-picker>\r\n                    </el-form-item>\r\n\r\n\r\n                    <el-form-item label=\"当前气温\" prop=\"region\" label-width=\"100px\">\r\n                        <el-input\r\n                                placeholder=\"请输入内容\"\r\n                                v-model=\"weatherVO.temp\"\r\n                        >\r\n                        </el-input>\r\n                    </el-form-item>\r\n\r\n                    <el-form-item label=\"最高气温\" prop=\"region\" label-width=\"100px\">\r\n                        <el-input\r\n                                placeholder=\"请输入内容\"\r\n                                v-model=\"weatherVO.highTemp\"\r\n                        >\r\n                        </el-input>\r\n                    </el-form-item>\r\n\r\n                    <el-form-item label=\"最低气温\" prop=\"region\" label-width=\"100px\">\r\n                        <el-input\r\n                                placeholder=\"请输入内容\"\r\n                                v-model=\"weatherVO.lowTemp\"\r\n                        >\r\n                        </el-input>\r\n                    </el-form-item>\r\n\r\n\r\n                    <el-form-item label=\"天气描述\" prop=\"region\" label-width=\"100px\">\r\n                        <el-select v-model=\"weatherVO.weatherId\" filterable clearable placeholder=\"选择天气\">\r\n                            <el-option value=1 label=\"晴\"/>\r\n                            <el-option value=2 label=\"多云\"/>\r\n                            <el-option value=3 label=\"雨\"/>\r\n                            <el-option value=4 label=\"雪\"/>\r\n                            <el-option value=5 label=\"阴\"/>\r\n                            <el-option value=0 label=\"未知\"/>\r\n                        </el-select>\r\n                    </el-form-item>\r\n\r\n                    <el-form-item label=\"天气序号\" prop=\"region\" label-width=\"100px\">\r\n                        <el-select v-model=\"weatherVO.weatherId\" disabled/>\r\n                    </el-form-item>\r\n\r\n\r\n                </el-form>\r\n\r\n                <div slot=\"footer\" class=\"dialog-footer\">\r\n                    <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\r\n                    <el-button type=\"primary\" @click=\"updateWeather\">确 定</el-button>\r\n                </div>\r\n\r\n            </el-dialog>\r\n\r\n\r\n            <!--        <div style=\"margin: 10px;\"></div>-->\r\n\r\n            <el-table :data=\"records\" style=\"width: 100%\" :header-cell-style=\"{background: '#F6F7FB'}\" border>\r\n                <el-table-column align=\"center\" label=\"日期\" prop=\"weatherDay\"/>\r\n                <el-table-column align=\"center\" fixed label=\"城市id\" prop=\"cityCode\"/>\r\n                <el-table-column align=\"center\" fixed label=\"城市名\" prop=\"cityName\"/>\r\n                <el-table-column align=\"center\" label=\"当前气温\" prop=\"temp\"/>\r\n                <el-table-column align=\"center\" label=\"最高温度\" prop=\"highTemp\"/>\r\n                <el-table-column align=\"center\" label=\"最低温度\" prop=\"lowTemp\"/>\r\n                <el-table-column align=\"center\" label=\"天气序号\" prop=\"weatherId\"/>\r\n                <el-table-column align=\"center\" label=\"天气说明\" prop=\"desc\"/>\r\n                <el-table-column align=\"center\" label=\"创建时间\" prop=\"createTime\"/>\r\n                <el-table-column align=\"center\" fixed=\"right\" label=\"操作\">\r\n                    <template slot-scope=\"scope\">\r\n                        <el-button @click=\"setObj(scope.row.id)\" type=\"text\" icon=\"el-icon-edit\">编辑</el-button>\r\n                        <el-button @click=\"deleteById(scope.row.id)\" type=\"text\" icon=\"el-icon-delete\"\r\n                                   style=\"color: red\">删除\r\n                        </el-button>\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n\r\n            <br>\r\n\r\n            <!-- 分页功能 -->\r\n            <el-pagination\r\n                    @size-change=\"handleSizeChange\"\r\n                    @current-change=\"handleCurrentChange\"\r\n                    :current-page=\"pageCurrent\"\r\n                    :page-sizes=\"[15,30,50,100]\"\r\n                    :page-size=\"pageSize\"\r\n                    layout=\"total, sizes, prev, pager, next, jumper\"\r\n                    :total=\"total\">\r\n            </el-pagination>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<style scoped src=\"../../assets/css/application/application.css\"/>\r\n\r\n<script>\r\n    import weather from \"../../api/application/weather\"\r\n    import moment from \"moment\"\r\n\r\n    export default {\r\n        name: \"\",\r\n        data() {\r\n            return ({\r\n                pageCurrent: 1,\r\n                pageSize: 15,\r\n                total: 0,\r\n                pages: 0,\r\n                records: [],\r\n                weatherDay: \"\",\r\n                searchFactor: {\r\n                    searchDate: \"\",\r\n                    searchCity: \"\"\r\n                },\r\n                weatherVO: {\r\n                    id: null,\r\n                    cityCode: \"\", //城市id\r\n                    cityName: \"\", //城市名\r\n                    weatherDay: \"\", //日期\r\n                    temp: null, //当前气温\r\n                    highTemp: null, //最高温度\r\n                    lowTemp: null, //最低温度\r\n                    weatherId: null, //天气序号\r\n                    desc: \"\" //天气说明\r\n                },\r\n                dialogFormVisible: false,\r\n                pickerOptions: {\r\n                    disabledDate(time) {\r\n                        return time.getTime() > Date.now() + 3600 * 1000 * 24;\r\n                    },\r\n                    shortcuts: [\r\n                        {\r\n                            text: '明天',\r\n                            onClick(picker) {\r\n                                const date = new Date();\r\n                                date.setTime(date.getTime() + 3600 * 1000 * 24);\r\n                                picker.$emit('pick', date);\r\n                            }\r\n                        },\r\n                        {\r\n                            text: '今天',\r\n                            onClick(picker) {\r\n                                picker.$emit('pick', new Date());\r\n                            }\r\n                        }, {\r\n                            text: '昨天',\r\n                            onClick(picker) {\r\n                                const date = new Date();\r\n                                date.setTime(date.getTime() - 3600 * 1000 * 24);\r\n                                picker.$emit('pick', date);\r\n                            }\r\n                        }]\r\n                },\r\n            })\r\n        },\r\n        created() {\r\n            this.searchFactor.weatherDay = moment().format('YYYY-MM-DD');\r\n            this.getWeather(1)\r\n        },\r\n        methods: {\r\n            getWeather(pageCurrent) {\r\n                this.pageCurrent = pageCurrent;\r\n                console.log(\"***searchFactor\" + this.searchFactor);\r\n                console.log(\"***searchDate\" + this.searchFactor.searchDate);\r\n                console.log(\"***searchCity\" + this.searchFactor.searchCity);\r\n                weather.getWeatherList(pageCurrent, this.pageSize, this.searchFactor)\r\n                    .then(response => {\r\n                        let data = response.data;\r\n                        this.records = data.records;\r\n                        this.total = data.total;\r\n                        this.pages = data.pages;\r\n                        this.current = data.current;\r\n                        this.size = data.size;\r\n                    }).catch(error => {\r\n                    console.error(error)\r\n                })\r\n            },\r\n            setObj(id) {\r\n                let list = this.records.filter(record => {\r\n                    return record.id === id;\r\n                });\r\n                let data = list.pop();\r\n                this.weatherVO.id = data.id;\r\n                this.weatherVO.cityCode = data.cityCode;\r\n                this.weatherVO.cityName = data.cityName;\r\n                this.weatherVO.weatherDay = data.weatherDay;\r\n                this.weatherVO.temp = data.temp;\r\n                this.weatherVO.highTemp = data.highTemp;\r\n                this.weatherVO.lowTemp = data.lowTemp;\r\n                this.weatherVO.weatherId = data.weatherId + '';\r\n\r\n                this.dialogFormVisible = true;\r\n            },\r\n            addWeather() {\r\n                weather.addWeather()\r\n                    .then(response => {\r\n                        this.getWeather(this.pageCurrent);\r\n                        this.$message({\r\n                            type: \"success\",\r\n                            message: \"添加当前日期城市天气成功!\"\r\n                        })\r\n                    }).catch(error => {\r\n                    console.log(error)\r\n                })\r\n            },\r\n            updateWeather() {\r\n                weather.updateWeather(this.weatherVO)\r\n                    .then(response => {\r\n                        this.getWeather(this.pageCurrent);\r\n                        this.$message({\r\n                            type: 'success',\r\n                            message: \"更新天气记录成功!\"\r\n                        })\r\n                        this.dialogFormVisible = false;\r\n                    })\r\n                    .catch(error => {\r\n                        console.log(error)\r\n                    })\r\n            },\r\n            deleteById(id) {\r\n                weather.deleteWeather(id)\r\n                    .then(response => {\r\n                        this.getWeather(this.pageCurrent);\r\n                        this.$message({\r\n                            type: \"success\",\r\n                            message: \"删除天气记录成功!\"\r\n                        })\r\n                    }).catch(error => {\r\n                    console.log(error)\r\n                })\r\n            },\r\n            //分页功能\r\n            handleSizeChange(pageSize) {\r\n                this.pageSize = pageSize;\r\n                this.getWeather(this.pageCurrent)\r\n            },\r\n            handleCurrentChange(pageCurrent) {\r\n                this.pageCurrent = pageCurrent;\r\n                this.getWeather(this.pageCurrent)\r\n            },\r\n            //清空查询条件\r\n            clearSearchFactor() {\r\n                this.searchFactor = {searchDate: \"\", searchCity: \"\"};\r\n                this.getWeather(1)\r\n            }\r\n        },\r\n        computed: {\r\n            getDate() {\r\n                if (this.weatherVO.weatherDay === '') {\r\n                    this.weatherVO.weatherDay = moment().format('YYYY-MM-DD');\r\n                }\r\n            }\r\n        },\r\n        watch: {\r\n            'weatherVO.weatherId'() {\r\n                switch (this.weatherVO.weatherId) {\r\n                    case \"1\":\r\n                        this.weatherVO.desc = \"晴\";\r\n                        break;\r\n                    case \"2\":\r\n                        this.weatherVO.desc = \"多云\";\r\n                        break;\r\n                    case \"3\":\r\n                        this.weatherVO.desc = \"雨\";\r\n                        break;\r\n                    case \"4\":\r\n                        this.weatherVO.desc = \"雪\";\r\n                        break;\r\n                    default:\r\n                        this.weatherVO.desc = \"阴\";\r\n                        break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n</script>\r\n"]}]}