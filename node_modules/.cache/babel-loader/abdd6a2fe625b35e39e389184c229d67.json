{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\cook-rms-master(2)\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\Administrator\\Desktop\\cook-rms-master(2)\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Administrator\\Desktop\\cook-rms-master(2)\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Administrator\\Desktop\\cook-rms-master(2)\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\cook-rms-master(2)\\src\\views\\menu\\MenuDetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\cook-rms-master(2)\\src\\views\\menu\\MenuDetail.vue","mtime":1595921372733},{"path":"C:\\Users\\Administrator\\Desktop\\cook-rms-master(2)\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1595921340657},{"path":"C:\\Users\\Administrator\\Desktop\\cook-rms-master(2)\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1595921368116},{"path":"C:\\Users\\Administrator\\Desktop\\cook-rms-master(2)\\node_modules\\babel-loader\\lib\\index.js","mtime":1595921337356},{"path":"C:\\Users\\Administrator\\Desktop\\cook-rms-master(2)\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1595921340657},{"path":"C:\\Users\\Administrator\\Desktop\\cook-rms-master(2)\\node_modules\\vue-loader\\lib\\index.js","mtime":1595921369308}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJNZW51RGV0YWlsIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbWVudUlkOiBudWxsLAogICAgICBmb3JtTWVudToge30sCiAgICAgIGZsMTogW10KICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRNZW51SWQoKTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldE1lbnVEZXRhaWwoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldE1lbnVJZDogZnVuY3Rpb24gZ2V0TWVudUlkKCkgewogICAgICB0aGlzLm1lbnVJZCA9IHRoaXMuJHJvdXRlLnF1ZXJ5LmlkOwogICAgfSwKICAgIC8vIOa3u+WKoOiPnOiwsQogICAgYWRkRmxMaXN0Um93OiBmdW5jdGlvbiBhZGRGbExpc3RSb3coKSB7CiAgICAgIHRoaXMuZmwxLnB1c2goewogICAgICAgICJuYW1lIjogIiIsCiAgICAgICAgIndlaWdodCI6ICIiCiAgICAgIH0pOwogICAgfSwKICAgIGFkZENvb2tTdGVwc0xpc3RSb3c6IGZ1bmN0aW9uIGFkZENvb2tTdGVwc0xpc3RSb3coKSB7CiAgICAgIHRoaXMuZm9ybU1lbnUuY29va1N0ZXBzLnB1c2goewogICAgICAgICJzdGVwVXJsIjogIiIsCiAgICAgICAgImRlc2NyaXB0aW9uIjogIiIKICAgICAgfSk7CiAgICB9LAogICAgZGVsZXRlRmw6IGZ1bmN0aW9uIGRlbGV0ZUZsKGluZGV4LCByb3dzKSB7CiAgICAgIHJvd3Muc3BsaWNlKGluZGV4LCAxKTsKICAgIH0sCiAgICBkZWxldGVDb29rU3RlcDogZnVuY3Rpb24gZGVsZXRlQ29va1N0ZXAoaW5kZXgsIHJvd3MpIHsKICAgICAgcm93cy5zcGxpY2UoaW5kZXgsIDEpOwogICAgfSwKICAgIGdldE1lbnVEZXRhaWw6IGZ1bmN0aW9uIGdldE1lbnVEZXRhaWwoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICAvLyDmn6Xor6Loj5zosLHor6bmg4UKICAgICAgdGhpcy4kYXhpb3MuZ2V0KCIvYXBpL21lbnUtYW5vbi9nZXRNZW51RGV0YWlsIiwgewogICAgICAgIHBhcmFtczogewogICAgICAgICAgbWVudUlkOiB0aGlzLm1lbnVJZCwKICAgICAgICAgIHVzZXJJZDogJycKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuc3RhdHVzID09PSAyMDApIHsKICAgICAgICAgIGNvbnNvbGUubG9nKHJlcy5kYXRhLmRhdGEpOwogICAgICAgICAgX3RoaXMuZm9ybU1lbnUgPSByZXMuZGF0YS5kYXRhOyAvLyB0aGlzLmZvcm1NZW51LmZsID0gSlNPTi5zdHJpbmdpZnkodGhpcy5mb3JtTWVudS5mbDEpOwoKICAgICAgICAgIHZhciBqc29uT2JqID0gSlNPTi5wYXJzZShyZXMuZGF0YS5kYXRhLmZsKTsKCiAgICAgICAgICBmb3IgKHZhciBpIGluIGpzb25PYmopIHsKICAgICAgICAgICAgX3RoaXMuZmwxLnB1c2goanNvbk9ialtpXSk7CiAgICAgICAgICB9IC8vIHRoaXMuZmwxID0gSlNPTi5wYXJzZShyZXMuZGF0YS5kYXRhLmZsKTsKICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHJlcy5kYXRhLmRhdGEpOwoKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMuJGFsZXJ0KCLmn6Xor6Loj5zosLHor6bmg4XlpLHotKUiKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHVwZGF0ZU1lbnVQdWJsaXNoRm9ybTogZnVuY3Rpb24gdXBkYXRlTWVudVB1Ymxpc2hGb3JtKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIC8vIOiNieeov+eKtuaAgeS4ujAgbWVudUZvcm0KICAgICAgY29uc29sZS5sb2coIuWPkeW4gyIpOwogICAgICB0aGlzLiRyZWZzLm1lbnVGb3JtLnZhbGlkYXRlKGZ1bmN0aW9uICh2YWxpZCkgewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgX3RoaXMyLmZvcm1NZW51LnB1Ymxpc2hTdGF0dXMgPSAyOwogICAgICAgICAgX3RoaXMyLmZvcm1NZW51LmZsID0gSlNPTi5zdHJpbmdpZnkoX3RoaXMyLmZsMSk7IC8vIOWvueixoei9rOaIkGpzb27lr7nosaEKCiAgICAgICAgICB2YXIgZm9ybURhdGEgPSBKU09OLnN0cmluZ2lmeShfdGhpczIuZm9ybU1lbnUpOwogICAgICAgICAgdmFyIGNvbmZpZyA9IHsKICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICJDb250ZW50LVR5cGUiOiAiYXBwbGljYXRpb24vanNvbjtjaGFyc2V0PVVURi04IgogICAgICAgICAgICB9CiAgICAgICAgICB9OwogICAgICAgICAgdmFyIHVybCA9ICIvYXBpL21lbnUvdXBkYXRlTWVudSI7CgogICAgICAgICAgX3RoaXMyLiRheGlvcy5wb3N0KHVybCwgZm9ybURhdGEsIGNvbmZpZykudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgIGlmIChyZXMuc3RhdHVzID09PSAyMDApIHsKICAgICAgICAgICAgICBfdGhpczIuJG1lc3NhZ2Uuc3VjY2Vzcygi57yW6L6R5oiQ5YqfIik7IC8vIOmYsuatouihqOWNleiusOW9leS4iuasoeiusOW9lQoKCiAgICAgICAgICAgICAgX3RoaXMyLmZvcm1NZW51ID0gewogICAgICAgICAgICAgICAgYnJhbmRfcmlnaHQ6IDAKICAgICAgICAgICAgICB9OyAvLyDmt7vliqDmiJDlip/ot7PovazliLDoj5zosLHpobXpnaIKCiAgICAgICAgICAgICAgX3RoaXMyLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgICBwYXRoOiAiL21lbnUiCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2Vycm9yIHN1Ym1pdCEhJyk7CiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHVwZGF0ZU1lbnVGb3JtOiBmdW5jdGlvbiB1cGRhdGVNZW51Rm9ybSgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICAvLyDkuIrmnrbnirbmgIHkuLoxCiAgICAgIGNvbnNvbGUubG9nKCLkuIrmnrYiKTsKICAgICAgdGhpcy4kcmVmcy5tZW51Rm9ybS52YWxpZGF0ZShmdW5jdGlvbiAodmFsaWQpIHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIF90aGlzMy5mb3JtTWVudS5wdWJsaXNoU3RhdHVzID0gMTsKICAgICAgICAgIF90aGlzMy5mb3JtTWVudS5mbCA9IEpTT04uc3RyaW5naWZ5KF90aGlzMy5mbDEpOwogICAgICAgICAgY29uc29sZS5sb2codmFsaWQpOyAvLyDlr7nosaHovazmiJBqc29u5a+56LGhCgogICAgICAgICAgdmFyIGZvcm1EYXRhID0gSlNPTi5zdHJpbmdpZnkoX3RoaXMzLmZvcm1NZW51KTsKICAgICAgICAgIHZhciBjb25maWcgPSB7CiAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAiQ29udGVudC1UeXBlIjogImFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD1VVEYtOCIKICAgICAgICAgICAgfQogICAgICAgICAgfTsKICAgICAgICAgIHZhciB1cmwgPSAiL2FwaS9tZW51L3VwZGF0ZU1lbnUiOwoKICAgICAgICAgIF90aGlzMy4kYXhpb3MucG9zdCh1cmwsIGZvcm1EYXRhLCBjb25maWcpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICBpZiAocmVzLnN0YXR1cyA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgX3RoaXMzLiRtZXNzYWdlLnN1Y2Nlc3MoIue8lui+keaIkOWKnyIpOyAvLyDpmLLmraLooajljZXorrDlvZXkuIrmrKHorrDlvZUKCgogICAgICAgICAgICAgIF90aGlzMy5mb3JtTWVudSA9IHsKICAgICAgICAgICAgICAgIGJyYW5kX3JpZ2h0OiAwCiAgICAgICAgICAgICAgfTsgLy8g5re75Yqg5oiQ5Yqf6Lez6L2s5Yiw6I+c6LCx6aG16Z2iCgogICAgICAgICAgICAgIF90aGlzMy4kcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgcGF0aDogIi9tZW51IgogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdlcnJvciBzdWJtaXQhIScpOwogICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["MenuDetail.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <el-card class=\"box-card\">\r\n  <el-form ref=\"menuForm\" :model=\"formMenu\" >\r\n    <el-form-item label=\"菜谱名称:\" label-width=\"100px\">\r\n      <el-input v-model=\"formMenu.name\" placeholder=\"请输入菜谱名称\" style=\"width:200px\"></el-input>\r\n    </el-form-item>\r\n    <el-form-item label=\"菜谱难度:\" label-width=\"100px\">\r\n      <el-select v-model=\"formMenu.deg\" placeholder=\"请选择菜谱难度\">\r\n        <el-option label=\"1\" value=\"1\"></el-option>\r\n        <el-option label=\"2\" value=\"2\"></el-option>\r\n        <el-option label=\"3\" value=\"3\"></el-option>\r\n        <el-option label=\"4\" value=\"4\"></el-option>\r\n        <el-option label=\"5\" value=\"5\"></el-option>\r\n      </el-select>\r\n    </el-form-item>\r\n    <el-form-item label=\"预计用时:\" label-width=\"100px\" style=\"width:200px\">\r\n      <el-input v-model=\"formMenu.tm\" ></el-input>\r\n    </el-form-item>\r\n    <el-form-item label=\"菜谱头图:\" label-width=\"100px\" style=\"width:200px\">\r\n      <el-input v-model=\"formMenu.menuUrl\" ></el-input>\r\n    </el-form-item>\r\n    <!--      table表格形式可以实现表格的增加一行-->\r\n    <el-form-item label=\"食材清单:\" label-width=\"100px\">\r\n      <el-table\r\n              border\r\n              :data=\"fl1\"\r\n              style=\"width: 50%\">\r\n        <el-table-column fixed=\"left\"  label=\"食材名称\" min-width=\"30\">\r\n          <template slot-scope=\"scope\">\r\n            <el-input v-model=\"scope.row.name\"></el-input>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column  label=\"分量\" min-width=\"20\">\r\n          <template slot-scope=\"scope\">\r\n            <el-input v-model=\"scope.row.weight\"></el-input>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column\r\n                fixed=\"right\"\r\n                label=\"操作\"\r\n                width=\"120\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button\r\n                    @click.native.prevent=\"deleteFl(scope.$index, formMenu.fl)\"\r\n                    type=\"text\"\r\n                    size=\"small\">\r\n              移除\r\n            </el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <el-button type=\"success\" @click=\"addFlListRow()\" round>添加一行</el-button>\r\n    </el-form-item>\r\n    <el-form-item label-width=\"100px\">\r\n      <el-input v-model=\"formMenu.fl\" type=\"hidden\"></el-input>\r\n    </el-form-item>\r\n    <el-form-item label=\"图文步骤:\" label-width=\"100px\">\r\n      <el-table\r\n              border\r\n              :data=\"formMenu.cookSteps\"\r\n              style=\"width: 70%\">\r\n        <el-table-column fixed=\"left\"  label=\"图片url\" min-width=\"20\">\r\n          <template slot-scope=\"scope\">\r\n            <el-input v-model=\"scope.row.stepUrl\"></el-input>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column  label=\"图片说明\" min-width=\"40\">\r\n          <template slot-scope=\"scope\">\r\n            <el-input v-model=\"scope.row.description\"></el-input>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column\r\n                fixed=\"right\"\r\n                label=\"操作\"\r\n                min-width=\"10\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button\r\n                    @click.native.prevent=\"deleteCookStep(scope.$index, formMenu.cookSteps)\"\r\n                    type=\"text\"\r\n                    size=\"small\">\r\n              移除\r\n            </el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <el-button type=\"success\" @click=\"addCookStepsListRow()\" round>添加一行</el-button>\r\n    </el-form-item>\r\n    <el-form-item label=\"小贴士:\" label-width=\"100px\">\r\n      <el-input v-model=\"formMenu.tip\"\r\n                placeholder=\"请输入小贴士\"\r\n                style=\"width:300px\"\r\n                type=\"textarea\"\r\n                maxlength=\"200\"\r\n                show-word-limit\r\n                clearable\r\n      ></el-input>\r\n    </el-form-item>\r\n    <el-form-item label-width=\"100px\">\r\n      <el-checkbox v-model=\"formMenu.isOfficial\">是否发布为官方菜谱</el-checkbox>\r\n    </el-form-item>\r\n    <el-form-item label-width=\"100px\">\r\n      <el-button type=\"primary\" @click=\"updateMenuPublishForm()\">发布</el-button>\r\n      <el-button type=\"primary\" @click=\"updateMenuForm()\">上传</el-button>\r\n    </el-form-item>\r\n  </el-form>\r\n  </el-card>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"MenuDetail\",\r\n        data() {\r\n            return {\r\n                menuId: null,\r\n                formMenu: {},\r\n                fl1: [],\r\n            }\r\n        },\r\n        created() {\r\n            this.getMenuId();\r\n        },\r\n        mounted() {\r\n            this.getMenuDetail();\r\n        },\r\n        methods: {\r\n            getMenuId() {\r\n                this.menuId = this.$route.query.id;\r\n            },\r\n            // 添加菜谱\r\n            addFlListRow() {\r\n                this.fl1.push({\r\n                    \"name\": \"\",\r\n                    \"weight\": \"\",\r\n                })\r\n            },\r\n            addCookStepsListRow() {\r\n                this.formMenu.cookSteps.push({\r\n                    \"stepUrl\": \"\",\r\n                    \"description\": \"\",\r\n                })\r\n            },\r\n            deleteFl(index, rows) {\r\n                rows.splice(index, 1);\r\n            },\r\n            deleteCookStep(index, rows) {\r\n                rows.splice(index, 1);\r\n            },\r\n            getMenuDetail() {\r\n                // 查询菜谱详情\r\n                this.$axios.get(\"/api/menu-anon/getMenuDetail\",{\r\n                    params: {\r\n                        menuId: this.menuId,\r\n                        userId: ''\r\n                    }\r\n                }).then(res=> {\r\n                    if (res.status === 200) {\r\n                        console.log(res.data.data);\r\n                        this.formMenu = res.data.data;\r\n                        // this.formMenu.fl = JSON.stringify(this.formMenu.fl1);\r\n                        let jsonObj = JSON.parse(res.data.data.fl);\r\n                        for (let i in jsonObj) {\r\n                            this.fl1.push(jsonObj[i]);\r\n                        }\r\n                        // this.fl1 = JSON.parse(res.data.data.fl);\r\n                        // console.log(res.data.data);\r\n                    } else {\r\n                        this.$alert(\"查询菜谱详情失败\");\r\n                    }\r\n                })\r\n            },\r\n            updateMenuPublishForm() {\r\n                // 草稿状态为0 menuForm\r\n                console.log(\"发布\")\r\n                this.$refs.menuForm.validate((valid) => {\r\n                    if (valid) {\r\n                        this.formMenu.publishStatus = 2;\r\n                        this.formMenu.fl = JSON.stringify(this.fl1);\r\n                        // 对象转成json对象\r\n                        let formData = JSON.stringify(this.formMenu);\r\n                        let config = {\r\n                            headers: {\"Content-Type\": \"application/json;charset=UTF-8\"}\r\n                        };\r\n                        let url = \"/api/menu/updateMenu\";\r\n                        this.$axios.post(url, formData, config).then(res => {\r\n                            if (res.status === 200) {\r\n                                this.$message.success(\"编辑成功\");\r\n                                // 防止表单记录上次记录\r\n                                this.formMenu={brand_right:0};\r\n                                // 添加成功跳转到菜谱页面\r\n                                this.$router.push({path:\"/menu\"});\r\n                            } else {\r\n                                console.log('error submit!!');\r\n                                return false;\r\n                            }\r\n                        });\r\n                    }\r\n                });\r\n\r\n            },\r\n            updateMenuForm(){\r\n                // 上架状态为1\r\n                console.log(\"上架\");\r\n                this.$refs.menuForm.validate((valid) => {\r\n                    if (valid) {\r\n                        this.formMenu.publishStatus = 1;\r\n                        this.formMenu.fl = JSON.stringify(this.fl1);\r\n                        console.log(valid);\r\n                        // 对象转成json对象\r\n                        let formData = JSON.stringify(this.formMenu);\r\n                        let config = {\r\n                            headers: {\"Content-Type\": \"application/json;charset=UTF-8\"}\r\n                        };\r\n                        let url = \"/api/menu/updateMenu\";\r\n                        this.$axios.post(url, formData, config).then(res => {\r\n                            if (res.status === 200) {\r\n                                this.$message.success(\"编辑成功\");\r\n                                // 防止表单记录上次记录\r\n                                this.formMenu={brand_right:0};\r\n                                // 添加成功跳转到菜谱页面\r\n                                this.$router.push({path:\"/menu\"});\r\n                            } else {\r\n                                console.log('error submit!!');\r\n                                return false;\r\n                            }\r\n                        });\r\n                    }\r\n                });\r\n\r\n            },\r\n\r\n\r\n        }\r\n\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n"],"sourceRoot":"src/views/menu"}]}